<!DOCTYPE html>
<html>
<head>
    <title>Websocket client</title>
    <link href="bootstrap-combined.min.css" rel="stylesheet">
    <script src="jquery.js"></script>
    <script src="script.js"></script>
</head>
<body>
    <div class="container">
        <h1 class="page-header">Websocket client</h1>
  <p>MIDI 
  <select id="midiOutputs" onChange="changeMidiOutput(this.selectedIndex)">
    <option>...</option>
  </select>
  </p>

        <form action="" class="form-inline" id="connectForm">
            <div class="input-append">
                <input type="text" class="input-large" value="ws://192.168.1.1:8080/midi" id="wsServer">
                <button class="btn" type="submit" id="connect">Connect</button>
                <button class="btn" disabled="disabled" id="disconnect">Disconnect</button>
            </div>
        </form>
        <form action="" id="sendForm">
            <div class="input-append">
                <input class="input-large" type="text" placeholder="message" id="message" disabled="disabled">
                <button class="btn btn-primary" type="submit" id="send" disabled="disabled">send</button>
            </div>
        </form>
        <hr>
        <ul class="unstyled" id="log"></ul>
    </div>
    <script type="text/javascript">
function registerMidiOutput(index, name){
  var select = document.getElementById("midiOutputs");
  select.options[index] = new Option(name, index);
}

function changeMidiOutput(index){
  selectMidiOutput(index);
  <!-- sendCc(OpenWareMidiControl.REQUEST_SETTINGS, 1); // load patch names -->
  <!-- setTimeout(function() { sendCc(OpenWareMidiControl.REQUEST_SETTINGS, 1) }, 500); // load patch names -->
  <!-- setTimeout(function() { sendCc(OpenWareMidiControl.REQUEST_SETTINGS, 127) }, 1000); // load settings   -->
}
    </script>
</body>
</html>
